import React, { useState } from "react"
import { FunctionComponent } from "react"
import { connect, ConnectedProps } from "react-redux"
import * as GUI from "@babylonjs/gui"

import { ACTIONS } from "../../state/actions"
import { SustainableHomeRootState } from "../../state/state"
import { CustomScrollViewer } from "../CustomScrollViewer"
import { Modal } from "../modal/Modal"
import { selector_modal_content_height } from "../modal/selector_modal_height"
import { AdvancedDynamicTexture } from "@babylonjs/gui"



interface OwnProps {
    ui_layer: AdvancedDynamicTexture | undefined
}

const map_state = (state: SustainableHomeRootState) =>
{
    return {
        modal_content_height_in_pixels: selector_modal_content_height(state),
    }
}

const map_dispatch = {
}
const connector = connect(map_state, map_dispatch)
type Props = ConnectedProps<typeof connector> & OwnProps


export const OPTION_IMAGE_WIDTH = 400
export const OPTION_IMAGE_HEIGHT = 360
const OPTION_HEIGHT = OPTION_IMAGE_WIDTH

// Generated from copying console output when view === __internal_generate_option_preview_images
const houses = [
    {
        "name": "Detached",
        "image_data": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAFoCAYAAAB5fq24AAARWElEQVR4Xu3dS4veZxnH8f80VTvpQZSMh5UgrkTciS6EpnUpXZWCQUEUV+7yAnwDbl3oqxBclgptPaAgdaO4STHiRHIgCU7IacxkRp4Zp6ZNmsxcvZ7D///7ZCfkvp/n+lw3fBnt1LXBHwIECBAgUBBYK5xxhAABAgQIDALiERAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECAgIN4AAQIECJQEBKTE5hABAgQICIg3QIAAAQIlAQEpsTlEgAABAgLiDRAgQIBASUBASmwOESBAgICAeAMECBAgUBIQkBKbQwQIECCwdvaNrdcxECBAgACB4wqsnf311t5xD/n7BAgQIEBAQLwBAgQIECgJCEiJzSECBAgQEBBvgAABAgRKAgJSYnOIAAECBATEGyBAgACBkoCAlNgcIkCAAAEB8QYIECBAoCQgICU2hwgQ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"
    },
    {
        "name": "Flat",
        "image_data": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAFoCAYAAAB5fq24AAARHElEQVR4Xu3dz48VZhXH4ffODwYriWliI6iFlmiNMS5da+vSpVs3Jv4D/HlNTbQaV8aVCzUggkOxVqLBDEM7DDMyEGJLhrnDuTNzv+fep+s5M+c+500+oVA6Gf4hQIAAAQIFgUlhxggBAgQIEBgC4hEQIECAQElAQEpshggQIEBAQLwBAgQIECgJCEiJzRABAgQICIg3QIAAAQIlAQEpsRkiQIAAAQHxBggQIECgJCAgJTZDBAgQICAg3gABAgQIlAQEpMRmiAABAgQExBsgQIAAgZKAgJTYDBEgQICAgHgDBAgQIFASEJASmyECBAgQEBBvgAABAgRKAgJSYjNEgAABAgLiDRAgQIBASUBASmyGCBAgQEBAvAECBAgQKAkISInNEAECBAgIiDdAgAABAiUBASmxGSJAgAABAfEGCBAgQKAkICAlNkMECBAgICDeAAECBAiUBASkxGaIAAECBATEGyBAgACBkoCAlNgMESBAgICAeAMECBAgUBIQkBKbIQIECBAQEG+AAAECBEoCAlJiM0SAAAECAuINECBAgEBJQEBKbIYIECBAQEC8AQIECBAoCQhIic0QAQIECAiIN0CAAAECJQEBKbEZIkCAAAEB8QYIECBAoCQgICU2QwQIECAgIN4AAQIECJQEBKTEZogAAQIEBMQbIECAAIGSgICU2AwRIECAgIB4AwQIECBQEhCQEpshAgQIEBAQb4AAAQIESgICUmIzRIAAAQIC4g0QIECAQElAQEpshggQIEBAQLwBAgQIECgJCEiJzRABAgQICIg3QIAAAQIlAQEpsRkiQIAAAQHxBggQIECgJCAgJTZDBAgQICAg3gABAgQIlAQEpMRmiAABAgQExBsgQIAAgZKAgJTYDBEgQICAgHgDBAgQIFASEJASmyECBAgQEBBvgAABAgRKAgJSYjNEgAABAgLiDRAgQIBASUBASmyGCBAgQEBAvAECBAgQKAkISInNEAECBAhMrn1w/30MBAgQIEDgVQUm1355f/9Vh3w9AQIECBAQEG+AAAECBEoCAlJiM0SAAAECAuINECBAgEBJQEBKbIYIECBAQEC8AQIECBAoCQhIic0QAQIECAiIN0CAAAECJQEBKbEZIkCAAAEB8QYIECBAoCQgICU2QwQIECAgIN4AAQIECJQEBKTEZogAAQIEBMQbIECAAIGSgICU2AwRIECAgIB4AwQIECBQEhCQEpshAgQIEBAQb4AAAQIESgICUmIzRIAAAQIC4g0QIECAQElAQEpshggQIEBAQLwBAgQIECgJCEiJzRABAgQICIg3QIAAAQIlAQEpsRkiQIAAAQHxBggQIECgJCAgJTZDBAgQICAg3gABAgQIlAQEpMRmiAABAgQExBsgQIAAgZKAgJTYDBEgQICAgHgDBAgQIFASEJASmyECBAgQEBBvgAABAgRKAgJSYjNEgAABAgLiDRAgQIBASUBASmyGCBAgQEBAvAECBAgQKAkISInNEAECBAgIiDdAgAABAiUBASmxGSJAgAABAfEGCBAgQKAkICAlNkMECBAgICDeAAECBAiUBASkxGaIAAECBATEGyBAgACBkoCAlNgMESBAgICAeAMECBAgUBIQkBKbIQIECBAQEG+AAAECBEoCAlJiM0SAAAECAuINECBAgEBJQEBKbIYIECBAQEC8AQIECBAoCQhIic0QAQIECAiIN0CAAAECJQEBKbEZIkCAAAEB8QYIECBAoCQgICU2QwQIECAgIN4AAQIECJQEBKTEZogAAQIEBMQbIECAAIGSgICU2AwRIECAgIB4AwQIECBQEhCQEpshAgQIEBAQb4AAAQIESgICUmIzRIAAAQIC4g0QIECAQElAQEpshggQIEBAQLwBAgQIECgJCEiJzRABAgQICIg3QIAAAQIlAQEpsRkiQIAAAQHxBggQIECgJCAgJTZDBAgQICAg3gABAgQIlAQEpMRmiAABAgQExBsgQIAAgZKAgJTYDBEgQICAgHgDBAgQIFASEJASmyECBAgQEBBvgAABAgRKAgJSYjNEgAABAgLiDRAgQIBASUBASmyGCBAgQEBAvAECBAgQKAkISInNEAECBAgIiDdAgAABAiUBASmxGSJAgAABAfEGCBAgQKAkICAlNkMECBAgICDeAAECBAiUBASkxGaIAAECBATEGyBAgACBkoCAlNgMESBAgICAeAMECBAgUBIQkBKbIQIECBAQEG8gUuC1yWdje38jcjdLESDwTEBAvIQIgcu7d8baeDz29/ef7nNufX38ZXwjYjdLECBwuICAeBlnL/AkElcf//3pz30ejBeXWF1dHTdW3jz73fxEAgSOLSAgx6byhScl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"
    }
]



const _UIHomeSelectionMenu = (props: Props) =>
{
    if (!props.ui_layer) return null

    const [chosen_home, set_chosen_home] = useState("")

    return <Modal title="Select Your Starting Home">
        <CustomScrollViewer
            name="select home"
            heightInPixels={props.modal_content_height_in_pixels}
            thickness={0}
            wheelPrecision={0.01}
            ui_layer={props.ui_layer}
        >
            <stackPanel
                name="homes"
            >
                {houses.map(({ name: house_name, image_data }) =>
                {
                    const is_chosen = house_name === chosen_home

                    return <babylon-button
                        key={house_name}
                        widthInPixels={OPTION_IMAGE_WIDTH + (is_chosen ? 8 : 0)}
                        heightInPixels={OPTION_HEIGHT + (is_chosen ? 8 : 0)}
                        cornerRadius={12}
                        color={is_chosen ? "orange" : "blue"}
                        thickness={is_chosen ? 6 : 2}
                        background="white"
                        paddingTopInPixels={10 + (is_chosen ? -4 : 0)}
                        paddingBottomInPixels={10 + (is_chosen ? -4 : 0)}
                        onPointerDownObservable={() =>
                        {
                            set_chosen_home(house_name)
                        }}
                    >
                        <babylon-image
                            url={image_data}
                            width={`${OPTION_IMAGE_WIDTH}px`}
                            height={`${OPTION_IMAGE_HEIGHT}px`}
                            verticalAlignment={GUI.Control.VERTICAL_ALIGNMENT_TOP}
                        />
                    </babylon-button>
                })}
            </stackPanel>
        </CustomScrollViewer>
    </Modal>
}

export const UIHomeSelectionMenu = connector(_UIHomeSelectionMenu) as FunctionComponent<OwnProps>
